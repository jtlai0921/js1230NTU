<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="UTF-8">
    <meta name="viewpoint" content="width=device-width, initial-scale=1.0">

    <title>fetch</title>

</head>

<body>
    <h3>產品列表</h3>
    <div id="list"></div>
    <script>
        function show(data){
            let list=document.querySelector("#list");
            for (let i = 0; i < data.length; i++) {
                let item=document.createElement("div");
                item.className="product";
                item.innerHTML=data[i].name+":"+data[i].price;
                list.appendChild(item);    
            }
        }
        //ajax/fetch
        //fetch(網址)回傳1個Promise物件，代表某個工作
        let url = "https://cwpeng.github.io/live-records-samples/data/products.json";
        let fetchJob = fetch(url);
        //promise物件.then(函式(工作結果){})
        fetchJob.then(function (response) {//匿名
           return response.json();
        }).then(function(data){
            console.log(data);
            show(data);
        });

    </script>

</body>

</html>